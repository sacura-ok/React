{"version":3,"sources":["services/RequestService.js","components/RegistrationForm/index.js","components/ProductsList/index.js","components/ProductDetails/index.js","components/ReviewDetails/index.js","components/ReviewsList/index.js","components/Catalog/index.js","components/App.js","index.js"],"names":["RequestService","_apiBase","url","body","token","dataHeaders","Headers","Authorization","Content-Type","Accept","delete","fetch","concat","this","method","JSON","stringify","headers","res","ok","Error","status","json","dataUser","postRequest","success","console","log","message","id","dataReview","idProduct","getRequest","product","filter","el","modelProduct","map","_ref","username","created_by","rate","text","_this","modelReview","title","img","review","RegistrationForm","requestService","state","password","showCatalog","formInOut","registerUser","e","preventDefault","then","setState","props","onClickButtonRegister","signIn","loginUser","onClickButtonSignIn","signOut","onClickButtonSignOut","onSubmit","userNameChange","target","value","passwordChange","_this2","getMessage","react_default","a","createElement","className","formSignIn","type","placeholder","onChange","name","onClick","onClickButtonViewCatalog","formSignOut","Component","ProductsList","productsList","getListProducts","arr","_this3","key","onItemSelected","items","listItems","ProductDetails","updateProduct","prevProps","getProduct","_this$state$productsL","src","alt","ReviewDetails","_this$props$reviews","reviews","ReviewsList","reviewsList","review_id","addReview","_this$props","rateReview","postReview","updateReviews","addReviewText","allowAddReview","itemsRate","listRates","_this$props2","getListReviews","reviewsRev","reverse","components_ReviewDetails_ReviewDetails","_ref2","onRateSelected","notAllowAddReview","Catalog","onClickProduct","onClickRate","showProductslist","components_ProductsList_ProductsList","showProduct","ProductDetails_ProductDetails","showReviewsList","components_ReviewsList_ReviewsList","App","onClickRegister","onClickSignIn","onClickSignOut","onClickViewCatalog","components_RegistrationForm_RegistrationForm","components_Catalog_Catalog","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.893aaeae.chunk.js","sourcesContent":["\r\nexport default class RequestService {\r\n\r\n  _apiBase = 'https://smktesting.herokuapp.com/api';\r\n\r\n\r\n  async postRequest(url, body, token) {\r\n\r\n    let dataHeaders = new Headers({\r\n      'Authorization': 'Token ' + token,\r\n      'Content-Type': 'application/json; charset=utf-8',\r\n      'Accept': 'application/json'\r\n    });\r\n\r\n    if (!token){\r\n      dataHeaders.delete('Authorization','Token ' + token);\r\n    }\r\n\r\n    const res = await fetch(`${this._apiBase}${url}`, {\r\n        method: 'POST',\r\n        body:\r\n         JSON.stringify(\r\n          body\r\n      ),\r\n        headers: dataHeaders,\r\n      });\r\n\r\n      if (!res.ok) {\r\n        throw new Error(`Could not fetch ${url}` +\r\n          `, received ${res.status}`)\r\n      }\r\n      return await res.json();\r\n    }\r\n\r\n    async getRequest(url, token) {\r\n      let dataHeaders = new Headers({\r\n        'Authorization': 'Token ' + token,\r\n        'Content-Type': 'application/json; charset=utf-8',\r\n        'Accept': 'application/json'\r\n      });\r\n\r\n      if (!token){\r\n        dataHeaders.delete('Authorization','Token ' + token);\r\n      }\r\n      const res = await fetch(`${this._apiBase}${url}`,\r\n        {\r\n           headers: dataHeaders,\r\n         }\r\n      );\r\n      if (!res.ok) {\r\n        throw new Error(`Could not fetch ${url}` +\r\n          `, received ${res.status}`)\r\n      }\r\n      return await res.json();\r\n    };\r\n\r\n    async registerUser(dataUser) {\r\n      const res = await this.postRequest(`/register/`,dataUser);\r\n      res.success ? console.log(\"You are registered.\") : console.log(res.message);\r\n      return res;\r\n    }\r\n\r\n    async loginUser(dataUser) {\r\n      const res = await this.postRequest(`/login/`,dataUser);\r\n      res.success ? console.log(\"You are logged in.\") : console.log(res.message);\r\n      return res;\r\n    }\r\n\r\n    async postReview(id, dataReview, token) {\r\n      const res = await this.postRequest(`/reviews/${id}`,dataReview, token);\r\n      return res;\r\n    }\r\n\r\n    async  getProduct(idProduct, token){\r\n      const product = await this.getRequest(`/products/`, token)\r\n      const [res] = product.filter((el) => {\r\n        return (el.id === idProduct);\r\n      });\r\n      return this.modelProduct(res)\r\n    }\r\n\r\n    async getListProducts(token){\r\n      const res = await this.getRequest(`/products/`, token);\r\n      return res.map(this.modelProduct);\r\n    }\r\n\r\n    async getListReviews(id, token) {\r\n      const res = await this.getRequest(`/reviews/${id}`, token);\r\n      return res.map(({id, created_by:{username}, rate, text}) => {\r\n        return this.modelReview({id, username, rate, text})\r\n      });\r\n    }\r\n\r\n    modelProduct(product) {\r\n      return {\r\n        id: product.id,\r\n        title: product.title,\r\n        img: product.img,\r\n        text: product.text\r\n      }\r\n    }\r\n\r\n    modelReview(review) {\r\n      return {\r\n            id: review.id,\r\n            username:  review.username,\r\n            rate: review.rate,\r\n            text: review.text\r\n      }\r\n    }\r\n  }\r\n","import React, { Component } from 'react';\r\nimport RequestService from '../../services/RequestService';\r\nimport './RegistrationForm.css';\r\n\r\nexport default class RegistrationForm extends Component {\r\n\r\n  requestService = new RequestService();\r\n\r\n  state = {\r\n    username: '',\r\n    password: '',\r\n    message: '',\r\n    success: '',\r\n    token: '',\r\n    showCatalog: false,\r\n    formInOut: null\r\n  }\r\n\r\n  registerUser = (e) =>  {\r\n    e.preventDefault();\r\n    if (this.state.username && this.state.password) {\r\n      this.requestService\r\n        .registerUser({username:this.state.username, password:this.state.password},this.state.token)\r\n          .then((res) => {\r\n              this.setState({\r\n                message: res.success?'You are registered!':res.message,\r\n                success: res.success,\r\n                token: res.token,\r\n                formInOut: true\r\n              });\r\n            this.props.onClickButtonRegister(this.state.showCatalog, this.state.token);\r\n          });\r\n    }else {\r\n        this.setState({\r\n          message: 'Username or password invalid!',\r\n        });\r\n    }\r\n  }\r\n  signIn = (e) =>  {\r\n    e.preventDefault();\r\n    if (this.state.username && this.state.password) {\r\n      this.requestService\r\n        .loginUser({username:this.state.username, password:this.state.password},this.state.token)\r\n          .then((res) => {\r\n              this.setState({\r\n                message: res.success?'You are signed in!':res.message,\r\n                success: res.success,\r\n                token: res.token,\r\n                formInOut: true\r\n              });\r\n            this.props.onClickButtonSignIn(this.state.showCatalog, this.state.token);\r\n          });\r\n    }else {\r\n      this.setState({\r\n        message: 'Username or password invalid!',\r\n      });\r\n    }\r\n  }\r\n\r\n  signOut = (e) =>  {\r\n    e.preventDefault();\r\n    this.setState({\r\n      message: '',\r\n      username: '',\r\n      password: '',\r\n      token: '',\r\n      text:'',\r\n      formInOut: false\r\n    });\r\n    this.props.onClickButtonSignOut(false);\r\n  }\r\n\r\n  onSubmit = (e) =>  {\r\n    e.preventDefault();\r\n  }\r\n\r\n  userNameChange = (e) => {\r\n    this.setState({username: e.target.value});\r\n  }\r\n\r\n  passwordChange = (e) => {\r\n    this.setState({password: e.target.value});\r\n  }\r\n\r\n  render() {\r\n    const getMessage = <div className=\"registration-form__message\">{this.state.message}</div>;\r\n    const formSignIn = (\r\n      <form className=\"registration-form\" onSubmit={this.onSubmit}>\r\n        <input className=\"registration-form__item registration-form__input\"\r\n          type=\"text\" placeholder=\"Your name *\" value={this.state.username}\r\n          onChange={this.userNameChange} />\r\n        <input className=\"registration-form__item registration-form__input\"\r\n          type=\"password\" placeholder=\"Enter Password *\" value={this.state.password}\r\n          onChange={this.passwordChange} />\r\n        <div className=\"registration-form__block\">\r\n          <button className=\"registration-form__item registration-form__button\"\r\n            name=\"signin\" onClick={this.signIn}>Sign in</button>\r\n          <button className=\"registration-form__item registration-form__button\"\r\n            name=\"register\" onClick={this.registerUser}>Register</button>\r\n        </div>\r\n        <button className=\"view-catalog\"\r\n          onClick={() => this.props.onClickButtonViewCatalog(true)}>View Catalog</button>\r\n      </form>\r\n      );\r\n\r\n    const formSignOut = <div className=\"registration-form__sign-out\">\r\n                          <div className=\"registration-form__user\">Welcome, {this.state.username}</div>\r\n                          <button className=\"registration-form__button-out\"\r\n                                  onClick={this.signOut}>Sign out</button>\r\n                        </div>;\r\n    return (\r\n      <div className=\"authorization\">\r\n          {this.state.formInOut?formSignOut:formSignIn}\r\n          {this.state.message?getMessage:null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport RequestService from '../../services/RequestService';\r\nimport './ProductsList.css';\r\n\r\nexport default class ProductsList extends Component {\r\n\r\n  requestService = new RequestService();\r\n\r\n  state = {\r\n    productsList: []\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.requestService\r\n      .getListProducts(this.props.token)\r\n        .then((product) => {\r\n          this.setState({\r\n            productsList: product\r\n          })\r\n        });\r\n  }\r\n  listItems(arr) {\r\n    return arr.map(({id,title}) => {\r\n      return ( <li className=\"list-group__item\"\r\n        key={id}\r\n        onClick={() => this.props.onItemSelected(id)}>\r\n        {title}\r\n        </li> )\r\n      });\r\n    }\r\n\r\n  render() {\r\n    const  {productsList} = this.state;\r\n\r\n     if (!productsList){\r\n       return\r\n     }\r\n    const items = this.listItems(productsList);\r\n    return (\r\n        <ul className=\"list-group\">\r\n          {items}\r\n        </ul>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport RequestService from '../../services/RequestService';\r\n\r\nexport default class ProductDetails extends Component {\r\n\r\n  requestService = new RequestService();\r\n\r\n  state = {\r\n    productsList: []\r\n  };\r\n\r\n  componentDidMount(){\r\n    this.updateProduct();\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    if (this.props.idProduct!==prevProps.idProduct) {\r\n      this.updateProduct();\r\n    }\r\n  }\r\n\r\n  updateProduct(){\r\n    const {idProduct} = this.props;\r\n    if (!idProduct) {\r\n      return\r\n    }\r\n\r\n    this.requestService\r\n      .getProduct(idProduct)\r\n        .then((product) => {\r\n            this.setState({\r\n              productsList: product\r\n            })\r\n          })\r\n    }\r\n\r\n  render() {\r\n     if (!this.state.productsList){\r\n       return\r\n     }\r\n\r\n    const {title,img,text}= this.state.productsList;\r\n    return (\r\n      <section className=\"product__about\">\r\n        <h2 className=\"product__title\">{title}</h2>\r\n        <div className=\"product__details\">\r\n          <img className=\"product__img\" src={img} alt=\"\" />\r\n          <section className=\"product__description description\">\r\n            <h3 className=\"description__title \">Description</h3>\r\n            <p className=\"description__text\">{text}</p>\r\n          </section>\r\n        </div>\r\n      </section>\r\n     )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './ReviewDetails.css';\r\n\r\nexport default class ReviewDetails extends Component {\r\n\r\n  render() {\r\n    const {username,rate,text} = this.props.reviews;\r\n      return (\r\n          <div className=\"review\">\r\n            <span className=\"review__item review__rate review__rate--color\">{rate}</span>\r\n            <span className=\"review__item review__username\">{username}</span>\r\n            <span className=\"review__item review__text\">{text}</span>\r\n          </div>\r\n       )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport ReviewDetails from '../ReviewDetails';\r\nimport RequestService from '../../services/RequestService';\r\nimport './ReviewsList.css';\r\n\r\nexport default class ReviewsList extends Component {\r\n\r\n  requestService = new RequestService();\r\n\r\n  state = {\r\n    reviewsList: [],\r\n    review_id: null,\r\n    text: ''\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.updateReviews();\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    if (this.props.idProduct!==prevProps.idProduct) {\r\n      this.updateReviews();\r\n    }\r\n  }\r\n\r\n  updateReviews(){\r\n    const {idProduct, token} = this.props;\r\n    if (!idProduct) {\r\n      return\r\n  }\r\n\r\n  this.requestService\r\n    .getListReviews(idProduct, token)\r\n      .then((reviews) => {\r\n        const reviewsRev = reviews.reverse();\r\n        this.setState({\r\n          reviewsList: reviewsRev\r\n        })\r\n      });\r\n  }\r\n\r\n  addReview = () =>{\r\n    const {idProduct, token} = this.props;\r\n    const {rateReview} = this.props;\r\n\r\n    this.requestService\r\n      .postReview(idProduct, { rate:rateReview, text:this.state.text}, token)\r\n        .then((res) => {\r\n          this.setState({\r\n            review_id: res.review_id,\r\n            text: ''\r\n          });\r\n        });\r\n\r\n    this.updateReviews();\r\n  }\r\n\r\n  listItems(arr) {\r\n    return arr.map(({id, username, rate, text}) => {\r\n      return (\r\n         <li className=\"list-group-review\" key={id}>\r\n             <ReviewDetails reviews = {{username,rate,text}} />\r\n         </li> )\r\n      });\r\n  }\r\n\r\n  listRates() {\r\n    const arrRates = [{id:1, rate:1},{id:2, rate:2},{id:3, rate:3},{id:4, rate:4},{id:5, rate:5}];\r\n    return arrRates.reverse().map(({id, rate}) => {\r\n      return (\r\n        <li className=\"list-group-item review__rate\" key={id}\r\n              onClick={() => this.props.onRateSelected(rate)}>\r\n            {rate}\r\n        </li> )\r\n      });\r\n  }\r\n\r\n  addReviewText = (e) => {\r\n    this.setState({text: e.target.value});\r\n  }\r\n\r\n  allowAddReview = () => {\r\n    const itemsRate = this.listRates();\r\n      return(\r\n        <div className=\"list-reviews__add\">\r\n          <ul className=\"list-reviews__rate\">\r\n            {itemsRate}\r\n          </ul>\r\n          <textarea className=\"list-reviews__review\"\r\n                    id={this.state.review_id}\r\n                    placeholder=\"Type your review...\"\r\n                    onChange={this.addReviewText}\r\n                    value={this.state.text}></textarea>\r\n          <button className=\"list-reviews__button\"\r\n                  onClick={this.addReview}>Submit Review</button>\r\n      </div>\r\n      );\r\n  }\r\n\r\n  render() {\r\n    const  {reviewsList} = this.state;\r\n    const items = this.listItems(reviewsList);\r\n    const notAllowAddReview = <div className=\"list-reviews__not-allow\">Sign in to leave a review.</div>;\r\n    return (\r\n      <div className=\"list-reviews\">\r\n        {this.props.token?this.allowAddReview():notAllowAddReview}\r\n        <section className=\"list-reviews__items\">\r\n          <h3>Reviews</h3>\r\n          {items}\r\n        </section>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport ProductsList from '../ProductsList';\r\nimport Product from '../ProductDetails';\r\nimport ReviewsList from '../ReviewsList';\r\nimport RequestService from '../../services/RequestService';\r\nimport './Catalog.css';\r\n\r\nexport default class Catalog extends Component {\r\n\r\n  requestService = new RequestService();\r\n\r\n  state = {\r\n    idProduct: 1,\r\n    rateReview: null\r\n  }\r\n\r\n  onClickProduct = (id)=>{\r\n    this.setState({\r\n        idProduct: id\r\n      })\r\n  };\r\n\r\n  onClickRate = (rate)=>{\r\n    this.setState({\r\n        rateReview: rate\r\n      })\r\n  };\r\n\r\n  render() {\r\n    const showProductslist = <ProductsList onItemSelected={this.onClickProduct} token={this.props.token} />;\r\n    const showProduct = <Product idProduct={this.state.idProduct} token={this.props.token} />;\r\n    const showReviewsList = <ReviewsList idProduct={this.state.idProduct}\r\n                                         rateReview={this.state.rateReview}\r\n                                         onRateSelected={this.onClickRate}\r\n                                         token={this.props.token} />;\r\n\r\n    return (\r\n      <main>\r\n          {showProductslist}\r\n        <div className=\"product\">\r\n          {this.state.idProduct?showProduct:null}\r\n          {this.state.idProduct?showReviewsList:null}\r\n        </div>\r\n      </main>\r\n     )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport RegistrationForm from './RegistrationForm';\r\nimport Catalog from './Catalog';\r\nimport './App.css';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    showCatalog: false,\r\n    token: ''\r\n  }\r\n\r\n  onClickRegister = (showCatalog, token)=>{\r\n    this.setState({\r\n        showCatalog: showCatalog,\r\n        token: token\r\n      })\r\n  };\r\n\r\n  onClickSignIn = (showCatalog, token)=>{\r\n    this.setState({\r\n        showCatalog: showCatalog,\r\n        token: token\r\n      })\r\n  };\r\n\r\n  onClickSignOut = (showCatalog, token)=>{\r\n    this.setState({\r\n      showCatalog: showCatalog,\r\n      token: ''\r\n    })\r\n  };\r\n\r\n  onClickViewCatalog = (showCatalog)=>{\r\n    this.setState({\r\n        showCatalog: showCatalog,\r\n        token: ''\r\n      })\r\n  };\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <RegistrationForm onClickButtonViewCatalog={this.onClickViewCatalog}\r\n                          onClickButtonRegister={this.onClickRegister}\r\n                          onClickButtonSignIn={this.onClickSignIn}\r\n                          onClickButtonSignOut={this.onClickSignOut} />\r\n        {(this.state.showCatalog || this.state.token)?\r\n          <Catalog token={this.state.token} />: null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}
